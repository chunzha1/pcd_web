<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>ğŸ‘¶âœ¨èµ›åšå©´å„¿ç›‘æŠ¤ç»ˆç«¯Î²ç‰ˆ</title>
    <style>
        :root {
            --neon-pink: #ff00ff;
            --cyber-blue: #00f7ff;
        }
        body {
            background: #000;
            font-family: 'Courier New', monospace;
            color: var(--neon-pink);
        }
        /* æ•…éšœè‰ºæœ¯æ•ˆæœ */
        .glitch-container {
            position: relative;
            animation: glitch 3s infinite;
        }
        @keyframes glitch {
            0% { text-shadow: 0.05em 0 0 var(--neon-pink), -0.03em -0.04em 0 var(--cyber-blue); }
            25% { transform: translate(-0.04em, 0.02em); }
            50% { text-shadow: -0.05em 0 0 var(--neon-pink), 0.03em 0.04em 0 var(--cyber-blue); }
            75% { transform: translate(0.03em, -0.02em); }
            100% { text-shadow: 0.05em 0 0 var(--neon-pink), -0.03em -0.04em 0 var(--cyber-blue); }
        }
        .cyber-border {
            border: 3px solid var(--neon-pink);
            box-shadow: 0 0 20px var(--cyber-blue);
            position: relative;
        }
        .cyber-border::after {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            border: 2px solid var(--cyber-blue);
            z-index: -1;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.18.0/dist/tf.min.js"></script>
</head>
<body>
    <!-- ä¸‰ç»´å©´å„¿å…¨æ¯æŠ•å½± -->
    <div id="hologram" style="height: 300px;"></div>

    <!-- èµ›åšæ§åˆ¶é¢æ¿ -->
    <div class="cyber-border" style="padding:20px;margin:20px;">
        <h1 class="glitch-container">ğŸ–¥ï¸ å©´å„¿OS v1.0</h1>
        
        <!-- AIå“­å£°åˆ†æä»ª -->
        <div>
            <button onclick="startAudioAnalysis()">ğŸ¤ å¯åŠ¨å“­å£°è¯Šæ–­åè®®</button>
            <div id="diagnosis-result"></div>
        </div>

        <!-- å…ƒå®‡å®™æˆé•¿æ¨¡æ‹Ÿå™¨ -->
        <div>
            <button onclick="predictFuture()">ğŸ”® ç”Ÿæˆ18å¹´åAIé¢„æµ‹å½¢è±¡</button>
            <canvas id="future-canvas"></canvas>
        </div>

        <!-- é‡å­è‚²å„¿åŠ©æ‰‹ -->
        <div>
            <h3>ğŸ¤– è‚²å„¿æœºå™¨äººæŒ‡ä»¤æ¿</h3>
            <input type="text" id="prompt" placeholder="è¾“å…¥è‚²å„¿é—®é¢˜ï¼ˆå¦‚ï¼šåå¥¶æ€ä¹ˆåŠï¼‰">
            <button onclick="generateAdvice()">ç”Ÿæˆè§£å†³æ–¹æ¡ˆ</button>
            <div id="ai-advice" style="white-space: pre-wrap;"></div>
        </div>
    </div>

    <script>
        // å…¨æ¯æŠ•å½±åˆå§‹åŒ–
        const hologram = initHologram();
        function initHologram() {
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, 1, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ alpha: true });
            renderer.setSize(300, 300);
            document.getElementById('hologram').appendChild(renderer.domElement);

            // åˆ›å»ºæ—‹è½¬çš„å©´å„¿æ¨¡å‹
            const geometry = new THREE.TorusKnotGeometry(10, 3, 100, 16);
            const material = new THREE.MeshPhongMaterial({ 
                color: 0xff00ff,
                wireframe: true 
            });
            const babyModel = new THREE.Mesh(geometry, material);
            scene.add(babyModel);

            camera.position.z = 30;
            function animate() {
                requestAnimationFrame(animate);
                babyModel.rotation.x += 0.01;
                babyModel.rotation.y += 0.01;
                renderer.render(scene, camera);
            }
            animate();
        }

        // AIè‚²å„¿å»ºè®®ç”Ÿæˆï¼ˆéœ€æ¥å…¥å®é™…APIï¼‰
        async function generateAdvice() {
            const prompt = document.getElementById('prompt').value;
            const response = await mockAIResponse(prompt);
            document.getElementById('ai-advice').innerHTML = response;
        }

        function mockAIResponse(prompt) {
            const answers = [
                `ğŸ’¡é‡å­è§£å†³æ–¹æ¡ˆï¼š\n1. ä½¿ç”¨åå‘å®‰æŠšç®—æ³•\n2. å¯åŠ¨å¥¶ç“¶é¢„çƒ­åè®®\n3. æ’­æ”¾ç™½å™ªéŸ³é¢‘ç‡ï¼š${Math.random()*200+50}Hz`,
                `ğŸš€æ—¶ç©ºä¼˜åŒ–å»ºè®®ï¼š\nâ€¢ åœ¨ç¬¬${Math.floor(Math.random()*60)}åˆ†é’Ÿè¿›è¡Œæ¢å°¿å¸ƒæ“ä½œ\nâ€¢ æœ€ä½³æ‹å—è§’åº¦ï¼š${Math.random()*30+135}åº¦`
            ];
            return Promise.resolve(answers[Math.floor(Math.random()*answers.length)]);
        }

        // å“­å£°åˆ†æï¼ˆä¼ªä»£ç ç¤ºä¾‹ï¼‰
        async function startAudioAnalysis() {
            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
            const audioContext = new AudioContext();
            const analyzer = audioContext.createAnalyser();
            const source = audioContext.createMediaStreamSource(stream);
            source.connect(analyzer);
            
            const dataArray = new Uint8Array(analyzer.frequencyBinCount);
            setInterval(() => {
                analyzer.getByteFrequencyData(dataArray);
                const avg = dataArray.reduce((a,b)=>a+b)/dataArray.length;
                const diagnosis = avg > 128 ? 'ğŸ¤’éœ€æ±‚çº§åˆ«ï¼šURGENT' : 'ğŸ˜Œæƒ…ç»ªæ³¢åŠ¨ï¼šNORMAL';
                document.getElementById('diagnosis-result').innerHTML = 
                    `ğŸ“Šå£°çº¹åˆ†æï¼š${avg.toFixed(2)}dB\n${diagnosis}`;
            }, 100);
        }
    </script>

    <!-- éšè—å½©è›‹ -->
    <div style="position:fixed; bottom:10px; right:10px;">
        <button onclick="launchMiniGame()">ğŸ•¹ï¸ å¯åŠ¨è‚²å„¿æ¨¡æ‹Ÿå™¨ï¼ˆBETAï¼‰</button>
    </div>
</body>
</html>
